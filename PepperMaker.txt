# ساخت راز 32 بایتی (روش سازگار با PS 5.1)
$bytes = New-Object 'byte[]' 32
$rng = [System.Security.Cryptography.RandomNumberGenerator]::Create()
$rng.GetBytes($bytes)
$rng.Dispose()
$secret = [Convert]::ToBase64String($bytes)

# ست در سطح کاربر (نیازی به ادمین ندارد)
[Environment]::SetEnvironmentVariable("SAMT_PEPPER", $secret, "User")

# برای اینکه همین سشن ببیندش:
$env:SAMT_PEPPER = [Environment]::GetEnvironmentVariable("SAMT_PEPPER","User")

# تست:
$env:SAMT_PEPPER